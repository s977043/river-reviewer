id: rr-upstream-cache-strategy-consistency-001
version: 0.1.0
name: Cache Strategy Consistency Guard
description: Detect undefined or inconsistent cache strategies (layers, consistency, invalidation, TTL, failure handling) in design documents.

phase: upstream
applyTo:
  - 'docs/**/*.md'
  - 'design/**/*.md'
  - 'specs/**/*.md'
  - 'rfc/**/*.md'
  - '**/*design*.md'
  - '**/*spec*.md'
  - '**/*architecture*.md'

tags:
  - cache
  - consistency
  - architecture
  - upstream
  - design-review

severity: minor

inputContext:
  - diff

outputKind:
  - findings
  - actions

modelHint: balanced

dependencies:
  - code_search

prompt:
  system: prompt/system.md
  user: prompt/user.md

eval:
  promptfoo: eval/promptfoo.yaml

fixturesDir: fixtures
goldenDir: golden
